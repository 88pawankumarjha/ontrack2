class ProjectsController < ApplicationController
API_KEY = 'TEST'
  # GET /projects
  # GET /projects.json
  def index
    @projects = Project.all

    respond_to do |format|
      format.xml { render xml: @project}
      format.html # index.html.erb
      format.json { render json: @projects }
    end
  end

  # GET /projects/1
  # GET /projects/1.json
  def show

  #@response = HTTParty.get('http://api.oodle.com/api/v2/listings?key=90984BE28A8F&region=canada&category=housing/sale')
#@oodle = Oodle::API.new(API_KEY)
@regions = {"nation"=>[{"@url"=>"canada", "@name"=>"Canada", "region"=>[{"@url"=>"abbotsford", "@name"=>"Abbotsford"}, {"@url"=>"barrie", "@name"=>"Barrie"}, {"@url"=>"brantford", "@name"=>"Brantford"}, {"@url"=>"calgary", "@name"=>"Calgary"}, {"@url"=>"charlottetown", "@name"=>"Charlottetown"}, {"@url"=>"chathamkent", "@name"=>"Chatham-Kent"}, {"@url"=>"edmonton", "@name"=>"Edmonton"}, {"@url"=>"guelph", "@name"=>"Guelph"}, {"@url"=>"halifaxns", "@name"=>"Halifax"}, {"@url"=>"hamilton", "@name"=>"Hamilton"}, {"@url"=>"iqaluit", "@name"=>"Iqaluit"}, {"@url"=>"kelowna", "@name"=>"Kelowna"}, {"@url"=>"kingstonon", "@name"=>"Kingston"}, {"@url"=>"kitchener", "@name"=>"Kitchener"}, {"@url"=>"londonon", "@name"=>"London, ON"}, {"@url"=>"moncton", "@name"=>"Moncton"}, {"@url"=>"montreal", "@name"=>"Montreal"}, {"@url"=>"oshawa", "@name"=>"Oshawa"}, {"@url"=>"ottawa", "@name"=>"Ottawa-Gatineau"}, {"@url"=>"peterboroughcan", "@name"=>"Peterborough"}, {"@url"=>"quebec", "@name"=>"Quebec City"}, {"@url"=>"regina", "@name"=>"Regina"}, {"@url"=>"saguenay", "@name"=>"Saguenay"}, {"@url"=>"saintjohn", "@name"=>"Saint John"}, {"@url"=>"saskatoon", "@name"=>"Saskatoon"}, {"@url"=>"sherbrooke", "@name"=>"Sherbrooke"}, {"@url"=>"niagara", "@name"=>"St. Catharines-Niagara"}, {"@url"=>"stjohns", "@name"=>"St. John's"}, {"@url"=>"sudbury", "@name"=>"Sudbury"}, {"@url"=>"thunderbay", "@name"=>"Thunder Bay"}, {"@url"=>"toronto", "@name"=>"Toronto"}, {"@url"=>"troisrivieres", "@name"=>"Trois-Rivieres"}, {"@url"=>"vancouver", "@name"=>"Vancouver"}, {"@url"=>"victoria", "@name"=>"Victoria"}, {"@url"=>"whitehorse", "@name"=>"Whitehorse"}, {"@url"=>"windsor", "@name"=>"Windsor"}, {"@url"=>"winnipeg", "@name"=>"Winnipeg"}, {"@url"=>"yellowknife", "@name"=>"Yellowknife"}]}, {"@url"=>"uk", "@name"=>"United Kingdom", "region"=>[{"@url"=>"aberdeen", "@name"=>"Aberdeen"}, {"@url"=>"barnsley", "@name"=>"Barnsley"}, {"@url"=>"bath", "@name"=>"Bath"}, {"@url"=>"belfast", "@name"=>"Belfast"}, {"@url"=>"birminghamgb", "@name"=>"Birmingham"}, {"@url"=>"blackburn", "@name"=>"Blackburn"}, {"@url"=>"blackpool", "@name"=>"Blackpool"}, {"@url"=>"bolton", "@name"=>"Bolton"}, {"@url"=>"bournemouth", "@name"=>"Bournemouth"}, {"@url"=>"bradford", "@name"=>"Bradford"}, {"@url"=>"brighton", "@name"=>"Brighton"}, {"@url"=>"bristol", "@name"=>"Bristol"}, {"@url"=>"bromley", "@name"=>"Bromley"}, {"@url"=>"cambridge", "@name"=>"Cambridge"}, {"@url"=>"canterbury", "@name"=>"Canterbury"}, {"@url"=>"cardiff", "@name"=>"Cardiff"}, {"@url"=>"carlisle", "@name"=>"Carlisle"}, {"@url"=>"chelmsford", "@name"=>"Chelmsford"}, {"@url"=>"chester", "@name"=>"Chester"}, {"@url"=>"colchester", "@name"=>"Colchester"}, {"@url"=>"coventry", "@name"=>"Coventry"}, {"@url"=>"crewe", "@name"=>"Crewe"}, {"@url"=>"croydon", "@name"=>"Croydon"}, {"@url"=>"darlington", "@name"=>"Darlington"}, {"@url"=>"dartford", "@name"=>"Dartford"}, {"@url"=>"derby", "@name"=>"Derby"}, {"@url"=>"doncaster", "@name"=>"Doncaster"}, {"@url"=>"dorchester", "@name"=>"Dorchester"}, {"@url"=>"dudley", "@name"=>"Dudley"}, {"@url"=>"dumfries", "@name"=>"Dumfries"}, {"@url"=>"dundee", "@name"=>"Dundee"}, {"@url"=>"durham", "@name"=>"Durham"}, {"@url"=>"edinburgh", "@name"=>"Edinburgh"}, {"@url"=>"enfield", "@name"=>"Enfield"}, {"@url"=>"england", "@name"=>"England"}, {"@url"=>"exeter", "@name"=>"Exeter"}, {"@url"=>"falkirk", "@name"=>"Falkirk"}, {"@url"=>"galashiels", "@name"=>"Galashiels"}, {"@url"=>"glasgow", "@name"=>"Glasgow"}, {"@url"=>"gloucester", "@name"=>"Gloucester"}, {"@url"=>"guildford", "@name"=>"Guildford"}, {"@url"=>"halifax", "@name"=>"Halifax"}, {"@url"=>"harrogate", "@name"=>"Harrogate"}, {"@url"=>"harrow", "@name"=>"Harrow"}, {"@url"=>"hemelhempstead", "@name"=>"Hemel Hempstead"}, {"@url"=>"hereford", "@name"=>"Hereford"}, {"@url"=>"huddersfield", "@name"=>"Huddersfield"}, {"@url"=>"hull", "@name"=>"Hull"}, {"@url"=>"ilford", "@name"=>"Ilford"}, {"@url"=>"inverness", "@name"=>"Inverness"}, {"@url"=>"ipswich", "@name"=>"Ipswich"}, {"@url"=>"kilmarnock", "@name"=>"Kilmarnock"}, {"@url"=>"kingston", "@name"=>"Kingston upon Thames"}, {"@url"=>"kirkcaldy", "@name"=>"Kirkcaldy"}, {"@url"=>"kirkwall", "@name"=>"Kirkwall"}, {"@url"=>"lancastergb", "@name"=>"Lancaster"}, {"@url"=>"leeds", "@name"=>"Leeds"}, {"@url"=>"leicester", "@name"=>"Leicester"}, {"@url"=>"lerwick", "@name"=>"Lerwick"}, {"@url"=>"lincolngb", "@name"=>"Lincoln"}, {"@url"=>"liverpool", "@name"=>"Liverpool"}, {"@url"=>"llandrindodwells", "@name"=>"Llandrindod Wells"}, {"@url"=>"llandudno", "@name"=>"Llandudno"}, {"@url"=>"london", "@name"=>"London"}, {"@url"=>"luton", "@name"=>"Luton"}, {"@url"=>"manchester", "@name"=>"Manchester"}, {"@url"=>"medway", "@name"=>"Medway"}, {"@url"=>"middlesbrough", "@name"=>"Middlesbrough"}, {"@url"=>"miltonkeynes", "@name"=>"Milton Keynes"}, {"@url"=>"motherwell", "@name"=>"Motherwell"}, {"@url"=>"newcastle", "@name"=>"Newcastle"}, {"@url"=>"newport", "@name"=>"Newport"}, {"@url"=>"northampton", "@name"=>"Northampton"}, {"@url"=>"nireland", "@name"=>"Northern Ireland"}, {"@url"=>"norwich", "@name"=>"Norwich"}, {"@url"=>"nottingham", "@name"=>"Nottingham"}, {"@url"=>"oldham", "@name"=>"Oldham"}, {"@url"=>"oxford", "@name"=>"Oxford"}, {"@url"=>"paisley", "@name"=>"Paisley"}, {"@url"=>"perthgb", "@name"=>"Perth"}, {"@url"=>"peterborough", "@name"=>"Peterborough"}, {"@url"=>"plymouth", "@name"=>"Plymouth"}, {"@url"=>"portsmouth", "@name"=>"Portsmouth"}, {"@url"=>"preston", "@name"=>"Preston"}, {"@url"=>"reading", "@name"=>"Reading"}, {"@url"=>"redhill", "@name"=>"Redhill"}, {"@url"=>"richmondgb", "@name"=>"Richmond"}, {"@url"=>"romford", "@name"=>"Romford"}, {"@url"=>"rotherham", "@name"=>"Rotherham"}, {"@url"=>"salisbury", "@name"=>"Salisbury"}, {"@url"=>"scotland", "@name"=>"Scotland"}, {"@url"=>"sheffield", "@name"=>"Sheffield"}, {"@url"=>"shrewsbury", "@name"=>"Shrewsbury"}, {"@url"=>"slough", "@name"=>"Slough"}, {"@url"=>"southall", "@name"=>"Southall"}, {"@url"=>"southampton", "@name"=>"Southampton"}, {"@url"=>"southend", "@name"=>"Southend"}, {"@url"=>"stalbans", "@name"=>"St. Albans"}, {"@url"=>"stevenage", "@name"=>"Stevenage"}, {"@url"=>"stockport", "@name"=>"Stockport"}, {"@url"=>"stoke", "@name"=>"Stoke-on-Trent"}, {"@url"=>"sunderland", "@name"=>"Sunderland"}, {"@url"=>"sutton", "@name"=>"Sutton"}, {"@url"=>"swansea", "@name"=>"Swansea"}, {"@url"=>"swindon", "@name"=>"Swindon"}, {"@url"=>"taunton", "@name"=>"Taunton"}, {"@url"=>"telford", "@name"=>"Telford"}, {"@url"=>"torquay", "@name"=>"Torquay"}, {"@url"=>"truro", "@name"=>"Truro"}, {"@url"=>"tunbridge", "@name"=>"Tunbridge Wells"}, {"@url"=>"wakefield", "@name"=>"Wakefield"}, {"@url"=>"wales", "@name"=>"Wales"}, {"@url"=>"walsall", "@name"=>"Walsall"}, {"@url"=>"warrington", "@name"=>"Warrington"}, {"@url"=>"watford", "@name"=>"Watford"}, {"@url"=>"wigan", "@name"=>"Wigan"}, {"@url"=>"wolverhampton", "@name"=>"Wolverhampton"}, {"@url"=>"worcester", "@name"=>"Worcester"}, {"@url"=>"york", "@name"=>"York"}]}, {"@url"=>"usa", "@name"=>"United States", "region"=>[{"@url"=>"abilene", "@name"=>"Abilene, TX"}, {"@url"=>"albany", "@name"=>"Albany, NY"}, {"@url"=>"albanyga", "@name"=>"Albany, GA"}, {"@url"=>"albuquerque", "@name"=>"Albuquerque, NM"}, {"@url"=>"alexandriala", "@name"=>"Alexandria, LA"}, {"@url"=>"allentown", "@name"=>"Allentown, PA"}, {"@url"=>"altoona", "@name"=>"Altoona, PA"}, {"@url"=>"amarillo", "@name"=>"Amarillo, TX"}, {"@url"=>"anchorage", "@name"=>"Anchorage, AK"}, {"@url"=>"annistonal", "@name"=>"Anniston, AL"}, {"@url"=>"appleton", "@name"=>"Appleton, WI"}, {"@url"=>"asheville", "@name"=>"Asheville, NC"}, {"@url"=>"athensga", "@name"=>"Athens, GA"}, {"@url"=>"atlanta", "@name"=>"Atlanta, GA"}, {"@url"=>"atlanticcity", "@name"=>"Atlantic City, NJ"}, {"@url"=>"auburn", "@name"=>"Auburn, AL"}, {"@url"=>"augusta", "@name"=>"Augusta, GA"}, {"@url"=>"austin", "@name"=>"Austin, TX"}, {"@url"=>"bakersfield", "@name"=>"Bakersfield, CA"}, {"@url"=>"baltimore", "@name"=>"Baltimore, MD"}, {"@url"=>"bangorme", "@name"=>"Bangor, ME"}, {"@url"=>"barnstablema", "@name"=>"Barnstable, MA"}, {"@url"=>"batonrouge", "@name"=>"Baton Rouge, LA"}, {"@url"=>"beaumont", "@name"=>"Beaumont, TX"}, {"@url"=>"bellingham", "@name"=>"Bellingham, WA"}, {"@url"=>"bentonharbor", "@name"=>"Benton Harbor, MI"}, {"@url"=>"billings", "@name"=>"Billings, MT"}, {"@url"=>"biloxi", "@name"=>"Biloxi, MS"}, {"@url"=>"binghamton", "@name"=>"Binghamton, NY"}, {"@url"=>"birmingham", "@name"=>"Birmingham, AL"}, {"@url"=>"bismarck", "@name"=>"Bismarck, ND"}, {"@url"=>"bloomington", "@name"=>"Bloomington, IL"}, {"@url"=>"bloomingtonin", "@name"=>"Bloomington, IN"}, {"@url"=>"boise", "@name"=>"Boise, ID"}, {"@url"=>"boston", "@name"=>"Boston, MA"}, {"@url"=>"brownsville", "@name"=>"Brownsville, TX"}, {"@url"=>"bryantx", "@name"=>"Bryan, TX"}, {"@url"=>"buffalo", "@name"=>"Buffalo, NY"}, {"@url"=>"burlington", "@name"=>"Burlington, VT"}, {"@url"=>"canton", "@name"=>"Canton, OH"}, {"@url"=>"casper", "@name"=>"Casper, WY"}, {"@url"=>"cedarrapids", "@name"=>"Cedar Rapids, IA"}, {"@url"=>"champaign", "@name"=>"Champaign, IL"}, {"@url"=>"charleston", "@name"=>"Charleston, SC"}, {"@url"=>"charlestonwv", "@name"=>"Charleston, WV"}, {"@url"=>"charlotte", "@name"=>"Charlotte, NC"}, {"@url"=>"charlottesville", "@name"=>"Charlottesville, VA"}, {"@url"=>"chattanooga", "@name"=>"Chattanooga, TN"}, {"@url"=>"cheyenne", "@name"=>"Cheyenne, WY"}, {"@url"=>"chicago", "@name"=>"Chicago, IL"}, {"@url"=>"chico", "@name"=>"Chico, CA"}, {"@url"=>"cincinnati", "@name"=>"Cincinnati, OH"}, {"@url"=>"clarksvilletn", "@name"=>"Clarksville, TN"}, {"@url"=>"cleveland", "@name"=>"Cleveland, OH"}, {"@url"=>"coloradosprings", "@name"=>"Colorado Springs, CO"}, {"@url"=>"columbiamo", "@name"=>"Columbia, MO"}, {"@url"=>"columbia", "@name"=>"Columbia, SC"}, {"@url"=>"columbus", "@name"=>"Columbus, OH"}, {"@url"=>"columbusga", "@name"=>"Columbus, GA"}, {"@url"=>"corpuschristi", "@name"=>"Corpus Christi, TX"}, {"@url"=>"corvallis", "@name"=>"Corvallis, OR"}, {"@url"=>"cumberland", "@name"=>"Cumberland, MD"}, {"@url"=>"dallas", "@name"=>"Dallas, TX"}, {"@url"=>"danvilleva", "@name"=>"Danville, VA"}, {"@url"=>"davenport", "@name"=>"Davenport, IA"}, {"@url"=>"dayton", "@name"=>"Dayton, OH"}, {"@url"=>"daytonabeach", "@name"=>"Daytona Beach, FL"}, {"@url"=>"decatural", "@name"=>"Decatur, AL"}, {"@url"=>"decaturil", "@name"=>"Decatur, IL"}, {"@url"=>"denver", "@name"=>"Denver, CO"}, {"@url"=>"desmoines", "@name"=>"Des Moines, IA"}, {"@url"=>"detroit", "@name"=>"Detroit, MI"}, {"@url"=>"dothan", "@name"=>"Dothan, AL"}, {"@url"=>"doverde", "@name"=>"Dover, DE"}, {"@url"=>"dubuque", "@name"=>"Dubuque, IA"}, {"@url"=>"duluth", "@name"=>"Duluth, MN"}, {"@url"=>"eauclaire", "@name"=>"Eau Claire, WI"}, {"@url"=>"elpaso", "@name"=>"El Paso, TX"}, {"@url"=>"elkhart", "@name"=>"Elkhart, IN"}, {"@url"=>"elmira", "@name"=>"Elmira, NY"}, {"@url"=>"enidok", "@name"=>"Enid, OK"}, {"@url"=>"erie", "@name"=>"Erie, PA"}, {"@url"=>"eugene", "@name"=>"Eugene, OR"}, {"@url"=>"evansville", "@name"=>"Evansville, IN"}, {"@url"=>"fargo", "@name"=>"Fargo, ND"}, {"@url"=>"fayettevillear", "@name"=>"Fayetteville, AR"}, {"@url"=>"fayettevillenc", "@name"=>"Fayetteville, NC"}, {"@url"=>"flagstaff", "@name"=>"Flagstaff, AZ"}, {"@url"=>"florenceal", "@name"=>"Florence, AL"}, {"@url"=>"florencesc", "@name"=>"Florence, SC"}, {"@url"=>"fortcollins", "@name"=>"Fort Collins, CO"}, {"@url"=>"fortmyers", "@name"=>"Fort Myers, FL"}, {"@url"=>"fortpierce", "@name"=>"Fort Pierce, FL"}, {"@url"=>"fortsmith", "@name"=>"Fort Smith, AR"}, {"@url"=>"ftwaltonbeach", "@name"=>"Fort Walton Beach, FL"}, {"@url"=>"fortwayne", "@name"=>"Fort Wayne, IN"}, {"@url"=>"fresno", "@name"=>"Fresno, CA"}, {"@url"=>"gadsden", "@name"=>"Gadsden, AL"}, {"@url"=>"gainesville", "@name"=>"Gainesville, FL"}, {"@url"=>"glensfalls", "@name"=>"Glens Falls, NY"}, {"@url"=>"goldsboronc", "@name"=>"Goldsboro, NC"}, {"@url"=>"grandforks", "@name"=>"Grand Forks, ND"}, {"@url"=>"grandjunction", "@name"=>"Grand Junction, CO"}, {"@url"=>"grandrapids", "@name"=>"Grand Rapids, MI"}, {"@url"=>"greatfalls", "@name"=>"Great Falls, MT"}, {"@url"=>"greenbay", "@name"=>"Green Bay, WI"}, {"@url"=>"greensboro", "@name"=>"Greensboro, NC"}, {"@url"=>"greenvillenc", "@name"=>"Greenville, NC"}, {"@url"=>"greenville", "@name"=>"Greenville, SC"}, {"@url"=>"harrisburg", "@name"=>"Harrisburg, PA"}, {"@url"=>"hartford", "@name"=>"Hartford, CT"}, {"@url"=>"hattiesburg", "@name"=>"Hattiesburg, MS"}, {"@url"=>"hendersonville", "@name"=>"Hendersonville, NC"}, {"@url"=>"hickory", "@name"=>"Hickory, NC"}, {"@url"=>"honolulu", "@name"=>"Honolulu, HI"}, {"@url"=>"houma", "@name"=>"Houma, LA"}, {"@url"=>"houston", "@name"=>"Houston, TX"}, {"@url"=>"huntingtonwv", "@name"=>"Huntington, WV"}, {"@url"=>"huntsville", "@name"=>"Huntsville, AL"}, {"@url"=>"indianapolis", "@name"=>"Indianapolis, IN"}, {"@url"=>"iowacity", "@name"=>"Iowa City, IA"}, {"@url"=>"jacksonmi", "@name"=>"Jackson, MI"}, {"@url"=>"jackson", "@name"=>"Jackson, MS"}, {"@url"=>"jacksontn", "@name"=>"Jackson, TN"}, {"@url"=>"jacksonville", "@name"=>"Jacksonville, FL"}, {"@url"=>"jacksonvillenc", "@name"=>"Jacksonville, NC"}, {"@url"=>"jamestownny", "@name"=>"Jamestown, NY"}, {"@url"=>"janesville", "@name"=>"Janesville, WI"}, {"@url"=>"johnsoncity", "@name"=>"Johnson City, TN"}, {"@url"=>"johnstown", "@name"=>"Johnstown, PA"}, {"@url"=>"jonesboro", "@name"=>"Jonesboro, AR"}, {"@url"=>"joplin", "@name"=>"Joplin, MO"}, {"@url"=>"kalamazoo", "@name"=>"Kalamazoo, MI"}, {"@url"=>"kc", "@name"=>"Kansas City, MO"}, {"@url"=>"killeen", "@name"=>"Killeen, TX"}, {"@url"=>"knoxville", "@name"=>"Knoxville, TN"}, {"@url"=>"kokomo", "@name"=>"Kokomo, IN"}, {"@url"=>"lacrosse", "@name"=>"La Crosse, WI"}, {"@url"=>"lafayettein", "@name"=>"Lafayette, IN"}, {"@url"=>"lafayettela", "@name"=>"Lafayette, LA"}, {"@url"=>"lakecharles", "@name"=>"Lake Charles, LA"}, {"@url"=>"lakeland", "@name"=>"Lakeland, FL"}, {"@url"=>"lancaster", "@name"=>"Lancaster, PA"}, {"@url"=>"lansing", "@name"=>"Lansing, MI"}, {"@url"=>"laredo", "@name"=>"Laredo, TX"}, {"@url"=>"lascruces", "@name"=>"Las Cruces, NM"}, {"@url"=>"lasvegas", "@name"=>"Las Vegas, NV"}, {"@url"=>"lawrenceks", "@name"=>"Lawrence, KS"}, {"@url"=>"lawtonok", "@name"=>"Lawton, OK"}, {"@url"=>"lewistonme", "@name"=>"Lewiston, ME"}, {"@url"=>"lexington", "@name"=>"Lexington, KY"}, {"@url"=>"lima", "@name"=>"Lima, OH"}, {"@url"=>"lincoln", "@name"=>"Lincoln, NE"}, {"@url"=>"littlerock", "@name"=>"Little Rock, AR"}, {"@url"=>"longviewtx", "@name"=>"Longview, TX"}, {"@url"=>"la", "@name"=>"Los Angeles, CA"}, {"@url"=>"louisville", "@name"=>"Louisville, KY"}, {"@url"=>"lubbock", "@name"=>"Lubbock, TX"}, {"@url"=>"lynchburg", "@name"=>"Lynchburg, VA"}, {"@url"=>"macon", "@name"=>"Macon, GA"}, {"@url"=>"madison", "@name"=>"Madison, WI"}, {"@url"=>"manchesternh", "@name"=>"Manchester, NH"}, {"@url"=>"mansfieldoh", "@name"=>"Mansfield, OH"}, {"@url"=>"mcallen", "@name"=>"McAllen, TX"}, {"@url"=>"medford", "@name"=>"Medford, OR"}, {"@url"=>"melbournefl", "@name"=>"Melbourne, FL"}, {"@url"=>"memphis", "@name"=>"Memphis, TN"}, {"@url"=>"merced", "@name"=>"Merced, CA"}, {"@url"=>"meridian", "@name"=>"Meridian, MS"}, {"@url"=>"miami", "@name"=>"Miami, FL"}, {"@url"=>"milwaukee", "@name"=>"Milwaukee, WI"}, {"@url"=>"minneapolis", "@name"=>"Minneapolis, MN"}, {"@url"=>"missoula", "@name"=>"Missoula, MT"}, {"@url"=>"mobileal", "@name"=>"Mobile, AL"}, {"@url"=>"modesto", "@name"=>"Modesto, CA"}, {"@url"=>"monroela", "@name"=>"Monroe, LA"}, {"@url"=>"montgomery", "@name"=>"Montgomery, AL"}, {"@url"=>"muncie", "@name"=>"Muncie, IN"}, {"@url"=>"myrtlebeach", "@name"=>"Myrtle Beach, SC"}, {"@url"=>"naples", "@name"=>"Naples, FL"}, {"@url"=>"nashville", "@name"=>"Nashville, TN"}, {"@url"=>"natchez", "@name"=>"Natchez, MS"}, {"@url"=>"newlondon", "@name"=>"New London, CT"}, {"@url"=>"neworleans", "@name"=>"New Orleans, LA"}, {"@url"=>"ny", "@name"=>"New York, NY"}, {"@url"=>"newark", "@name"=>"Newark, NJ"}, {"@url"=>"norfolk", "@name"=>"Norfolk, VA"}, {"@url"=>"ocala", "@name"=>"Ocala, FL"}, {"@url"=>"odessa", "@name"=>"Odessa, TX"}, {"@url"=>"oklahomacity", "@name"=>"Oklahoma City, OK"}, {"@url"=>"omaha", "@name"=>"Omaha, NE"}, {"@url"=>"orlando", "@name"=>"Orlando, FL"}, {"@url"=>"owensboro", "@name"=>"Owensboro, KY"}, {"@url"=>"panamacity", "@name"=>"Panama City, FL"}, {"@url"=>"parkersburg", "@name"=>"Parkersburg, WV"}, {"@url"=>"pensacola", "@name"=>"Pensacola, FL"}, {"@url"=>"peoria", "@name"=>"Peoria, IL"}, {"@url"=>"philly", "@name"=>"Philadelphia, PA"}, {"@url"=>"phoenix", "@name"=>"Phoenix, AZ"}, {"@url"=>"pinebluff", "@name"=>"Pine Bluff, AR"}, {"@url"=>"pittsburgh", "@name"=>"Pittsburgh, PA"}, {"@url"=>"pittsfieldma", "@name"=>"Pittsfield, MA"}, {"@url"=>"pocatello", "@name"=>"Pocatello, ID"}, {"@url"=>"portcharlotte", "@name"=>"Port Charlotte, FL"}, {"@url"=>"portland", "@name"=>"Portland, OR"}, {"@url"=>"portlandme", "@name"=>"Portland, ME"}, {"@url"=>"providence", "@name"=>"Providence, RI"}, {"@url"=>"provo", "@name"=>"Provo, UT"}, {"@url"=>"pueblo", "@name"=>"Pueblo, CO"}, {"@url"=>"puntagorda", "@name"=>"Punta Gorda, FL"}, {"@url"=>"raleigh", "@name"=>"Raleigh, NC"}, {"@url"=>"rapidcity", "@name"=>"Rapid City, SD"}, {"@url"=>"readingpa", "@name"=>"Reading, PA"}, {"@url"=>"redding", "@name"=>"Redding, CA"}, {"@url"=>"reno", "@name"=>"Reno, NV"}, {"@url"=>"richlandwa", "@name"=>"Richland, WA"}, {"@url"=>"richmond", "@name"=>"Richmond, VA"}, {"@url"=>"roanoke", "@name"=>"Roanoke, VA"}, {"@url"=>"rochester", "@name"=>"Rochester, NY"}, {"@url"=>"rochestermn", "@name"=>"Rochester, MN"}, {"@url"=>"rockfordil", "@name"=>"Rockford, IL"}, {"@url"=>"rockymount", "@name"=>"Rocky Mount, NC"}, {"@url"=>"sacramento", "@name"=>"Sacramento, CA"}, {"@url"=>"saginaw", "@name"=>"Saginaw, MI"}, {"@url"=>"salinas", "@name"=>"Salinas, CA"}, {"@url"=>"saltlakecity", "@name"=>"Salt Lake City, UT"}, {"@url"=>"sanangelo", "@name"=>"San Angelo, TX"}, {"@url"=>"sanantonio", "@name"=>"San Antonio, TX"}, {"@url"=>"sandiego", "@name"=>"San Diego, CA"}, {"@url"=>"sf", "@name"=>"San Francisco, CA"}, {"@url"=>"sanluisobispo", "@name"=>"San Luis Obispo, CA"}, {"@url"=>"santabarbara", "@name"=>"Santa Barbara, CA"}, {"@url"=>"santafe", "@name"=>"Santa Fe, NM"}, {"@url"=>"sarasota", "@name"=>"Sarasota, FL"}, {"@url"=>"savannah", "@name"=>"Savannah, GA"}, {"@url"=>"scranton", "@name"=>"Scranton, PA"}, {"@url"=>"seattle", "@name"=>"Seattle, WA"}, {"@url"=>"sebring", "@name"=>"Sebring, FL"}, {"@url"=>"sharonpa", "@name"=>"Sharon, PA"}, {"@url"=>"sheboygan", "@name"=>"Sheboygan, WI"}, {"@url"=>"shermantx", "@name"=>"Sherman, TX"}, {"@url"=>"shreveport", "@name"=>"Shreveport, LA"}, {"@url"=>"siouxcity", "@name"=>"Sioux City, IA"}, {"@url"=>"siouxfalls", "@name"=>"Sioux Falls, SD"}, {"@url"=>"southbend", "@name"=>"South Bend, IN"}, {"@url"=>"spokane", "@name"=>"Spokane, WA"}, {"@url"=>"springfieldil", "@name"=>"Springfield, IL"}, {"@url"=>"springfieldma", "@name"=>"Springfield, MA"}, {"@url"=>"springfieldmo", "@name"=>"Springfield, MO"}, {"@url"=>"stlouis", "@name"=>"St Louis, MO"}, {"@url"=>"stcloud", "@name"=>"St. Cloud, MN"}, {"@url"=>"stjosephmo", "@name"=>"St. Joseph, MO"}, {"@url"=>"statecollege", "@name"=>"State College, PA"}, {"@url"=>"steubenville", "@name"=>"Steubenville, OH"}, {"@url"=>"stockton", "@name"=>"Stockton, CA"}, {"@url"=>"sumtersc", "@name"=>"Sumter, SC"}, {"@url"=>"syracuse", "@name"=>"Syracuse, NY"}, {"@url"=>"tallahassee", "@name"=>"Tallahassee, FL"}, {"@url"=>"tampa", "@name"=>"Tampa, FL"}, {"@url"=>"terrehaute", "@name"=>"Terre Haute, IN"}, {"@url"=>"texarkana", "@name"=>"Texarkana, TX"}, {"@url"=>"thevillages", "@name"=>"The Villages, FL"}, {"@url"=>"toccoa", "@name"=>"Toccoa, GA"}, {"@url"=>"toledo", "@name"=>"Toledo, OH"}, {"@url"=>"topeka", "@name"=>"Topeka, KS"}, {"@url"=>"trenton", "@name"=>"Trenton, NJ"}, {"@url"=>"tucson", "@name"=>"Tucson, AZ"}, {"@url"=>"tulsa", "@name"=>"Tulsa, OK"}, {"@url"=>"tuscaloosa", "@name"=>"Tuscaloosa, AL"}, {"@url"=>"tylertx", "@name"=>"Tyler, TX"}, {"@url"=>"utica", "@name"=>"Utica, NY"}, {"@url"=>"victoriatx", "@name"=>"Victoria, TX"}, {"@url"=>"visalia", "@name"=>"Visalia, CA"}, {"@url"=>"waco", "@name"=>"Waco, TX"}, {"@url"=>"dc", "@name"=>"Washington, DC"}, {"@url"=>"waterlooia", "@name"=>"Waterloo, IA"}, {"@url"=>"wausau", "@name"=>"Wausau, WI"}, {"@url"=>"westpalmbeach", "@name"=>"West Palm Beach, FL"}, {"@url"=>"wheeling", "@name"=>"Wheeling-Steubenville, WV"}, {"@url"=>"wichita", "@name"=>"Wichita, KS"}, {"@url"=>"wichitafallstx", "@name"=>"Wichita Falls, TX"}, {"@url"=>"williamsportpa", "@name"=>"Williamsport, PA"}, {"@url"=>"wilmington", "@name"=>"Wilmington, NC"}, {"@url"=>"winstonsalem", "@name"=>"Winston-Salem, NC"}, {"@url"=>"winterhaven", "@name"=>"Winter Haven, FL"}, {"@url"=>"woodbridge", "@name"=>"Woodbridge, VA"}, {"@url"=>"yakima", "@name"=>"Yakima, WA"}, {"@url"=>"yorkpa", "@name"=>"York, PA"}, {"@url"=>"youngstown", "@name"=>"Youngstown, OH"}, {"@url"=>"yubacity", "@name"=>"Yuba City, CA"}, {"@url"=>"yuma", "@name"=>"Yuma, AZ"}]}, {"@url"=>"india", "@name"=>"India", "region"=>[{"@url"=>"ahmedabad", "@name"=>"Ahmedabad"}, {"@url"=>"bangalore", "@name"=>"Bangalore"}, {"@url"=>"bhopal", "@name"=>"Bhopal"}, {"@url"=>"chennai", "@name"=>"Chennai"}, {"@url"=>"delhi", "@name"=>"Delhi"}, {"@url"=>"hyderabad", "@name"=>"Hyderabad"}, {"@url"=>"indore", "@name"=>"Indore"}, {"@url"=>"jaipur", "@name"=>"Jaipur"}, {"@url"=>"kanpur", "@name"=>"Kanpur"}, {"@url"=>"kolkata", "@name"=>"Kolkata"}, {"@url"=>"lucknow", "@name"=>"Lucknow"}, {"@url"=>"mumbai", "@name"=>"Mumbai"}, {"@url"=>"nagpur", "@name"=>"Nagpur"}, {"@url"=>"patna", "@name"=>"Patna"}, {"@url"=>"pune", "@name"=>"Pune"}, {"@url"=>"surat", "@name"=>"Surat"}]}, {"@url"=>"ireland", "@name"=>"Ireland", "region"=>[{"@url"=>"cork", "@name"=>"Cork"}, {"@url"=>"dublin", "@name"=>"Dublin"}, {"@url"=>"galway", "@name"=>"Galway"}, {"@url"=>"limerick", "@name"=>"Limerick"}, {"@url"=>"waterford", "@name"=>"Waterford"}]}]} 
#@oodle.region = 'canada'
#@oodle.category = 'housing/sale'
#@oodle.num = '15'
#@oodle.sort = 'ctime_reverse'
#@results = @oodle.fetch_listings
#@num = @results['meta']['returned']
#@listings = @results['listings']
url = 'http://api.oodle.com/api/v2/listings?key=90984BE28A8F&region=canada&category=housing/sale&num=2' 
xml_data = Net::HTTP.get_response(URI.parse(url)).body

@r = REXML::Document.new(xml_data)
@titles = []
@links = []
@r.elements.each('oodle_response/current/region/name') do |ele|
   @titles << ele.text
end
@r.elements.each('oodle_response/listings/element/title') do |ele|
   @links << ele.text
end
#puts r.elements["getserver/uploadform"].first

    @project = Project.find(params[:id])
    respond_to do |format|
      format.xml { render xml: @project}
      format.html # show.html.erb
      format.json { render json: @project }
    end
  end

  # GET /projects/new
  # GET /projects/new.json
  def new
    @project = Project.new

    respond_to do |format|
      format.xml { render xml: @project}
      format.html # new.html.erb
      format.json { render json: @project }
    end
  end

  # GET /projects/1/edit
  def edit
    @project = Project.find(params[:id])
  end

  # POST /projects
  # POST /projects.json
  def create
    @project = Project.new(params[:project])

    respond_to do |format|
      if @project.save
        format.html { redirect_to @project, notice: 'Project was successfully created.' }
        format.json { render json: @project, status: :created, location: @project }
        format.xml { render xml: @project, status: :created, location: @project }
      else
        format.html { render action: "new" }
        format.json { render json: @project.errors, status: :unprocessable_entity }
        format.xml { render xml: @project.errors, status: :unprocessable_entity }
      end
    end
  end

  # PUT /projects/1
  # PUT /projects/1.json
  def update
    @project = Project.find(params[:id])

    respond_to do |format|
      if @project.update_attributes(params[:project])
        format.html { redirect_to @project, notice: 'Project was successfully updated.' }
        format.json { head :no_content }
        format.xml { head :no_content }
      else
        format.html { render action: "edit" }
        format.json { render json: @project.errors, status: :unprocessable_entity }
        format.xml { render xml: @project.errors, status: :unprocessable_entity }
      end
    end
  end

  # DELETE /projects/1
  # DELETE /projects/1.json
  def destroy
    @project = Project.find(params[:id])
    @project.destroy

    respond_to do |format|
      format.xml { render xml: @project}
      format.xml {  head :no_content }
      format.html { redirect_to projects_url }
      format.json { head :no_content }
    end
  end
end
